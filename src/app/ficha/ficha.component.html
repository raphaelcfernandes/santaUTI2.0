<app-navbar></app-navbar>
<div class="container-fluid">
	<form>
		<div *ngIf="diagnosticos">
			<div class="panel panel-primary filterable">
				<div class="panel-heading">
					<div class="pull-right">
						<button class="btn btn-warning btn-sm" (click)="radioModel = 'todos'">Todos</button>
						<button class="btn btn-warning btn-sm" (click)="radioModel = 'resolvidos'">Resolvidos</button>
						<button class="btn btn-warning btn-sm" (click)="radioModel = 'ativos'">Ativos</button>
					</div>
				</div>
				<table class="table table-sm">
					<thead>
						<tr>
							<th class="labelsConsulta">Diagnóstico</th>
							<th class="labelsConsulta">Data Criado</th>
							<th class="labelsConsulta">Data Resolvido</th>
							<th class="labelsConsulta">Comentários</th>
							<th class="labelsConsulta">Ações</th>
						</tr>
					</thead>
					<tbody *ngIf="radioModel==='todos'">
						<tr *ngFor="let d of diagnosticos">
							<td>{{d.diagnostico}}</td>
							<td>{{d.dataDiagnostico}}</td>
							<td>{{d.dataResolvido}}</td>
							<td>{{d.comentario}}</td>
							<ng-container *ngIf="d.id!==undefined">
								<td>
									<button class="btn btn-info btn-sm" (click)="excluirDiagnostico(d)"> Excluir
									</button>
								</td>
							</ng-container>
							<ng-container *ngIf="!d.dataResolvido && d.id===undefined">
								<td>
									<button class="btn btn-info btn-sm" (click)="resolverDiagnostico(d)"> Resolver
									</button>
								</td>
							</ng-container>
							<ng-container *ngIf="d.dataResolvido && d.resolvido===true">
								<td>
									<button class="btn btn-info btn-sm" (click)="desfazerAcaoDiagnostico(d)"> Desfazer ação
									</button>
								</td>
							</ng-container>
						</tr>
					</tbody>
					<tbody *ngIf="radioModel==='ativos'">
						<tr *ngFor="let d of diagnosticos  | myFilter:diagnosticos">
							<td>{{d.diagnostico}}</td>
							<td>{{d.dataDiagnostico}}</td>
							<td>{{d.dataResolvido}}</td>
							<td>{{d.comentario}}</td>
							<ng-container *ngIf="d.id!==undefined">
								<td>
									<button class="btn btn-info btn-sm" (click)="excluirDiagnostico(d)"> Excluir
									</button>
								</td>
							</ng-container>
							<ng-container *ngIf="!d.dataResolvido && d.id===undefined">
								<td>
									<button class="btn btn-info btn-sm" (click)="resolverDiagnostico(d)"> Resolver
									</button>
								</td>
							</ng-container>
							<ng-container *ngIf="d.dataResolvido && d.resolvido===true">
								<td>
									<button class="btn btn-info btn-sm" (click)="desfazerAcaoDiagnostico(d)"> Desfazer ação
									</button>
								</td>
							</ng-container>
						</tr>
					</tbody>
					<tbody *ngIf="radioModel==='resolvidos' ">
						<tr *ngFor="let d of diagnosticos | filterResolvidos:diagnosticos">
							<td>{{d.diagnostico}}</td>
							<td>{{d.dataDiagnostico}}</td>
							<td>{{d.dataResolvido}}</td>
							<td>{{d.comentario}}</td>
							<ng-container *ngIf="d.id!==undefined">
								<td>
									<button class="btn btn-info btn-sm" (click)="excluirDiagnostico(d)"> Excluir
									</button>
								</td>
							</ng-container>
							<ng-container *ngIf="!d.dataResolvido && d.id===undefined">
								<td>
									<button class="btn btn-info btn-sm" (click)="resolverDiagnostico(d)"> Resolver
									</button>
								</td>
							</ng-container>
							<ng-container *ngIf="d.dataResolvido && d.resolvido===true">
								<td>
									<button class="btn btn-info btn-sm" (click)="desfazerAcaoDiagnostico(d)"> Desfazer ação
									</button>
								</td>
							</ng-container>
						</tr>
					</tbody>
				</table>
			</div>
			<hr>
			<table>
				<tfoot>
					<tr>
						<td>
							<div class="md-form form-sm">
								<input id="diagnostico" class="form-control input-lg" type="text" name="diagnostico" size="50" [(ngModel)]="diagnosticoString"
								 length="10" mdbCharCounter mdbActive />
								<label for="diagnostico" class="">Diagnóstico</label>
							</div>
						</td>
						<td>
							<div class="md-form form-sm">
								<input id="comentario" mdbCharCounter length="50" mdbActive class="form-control input-lg" type="text" name="comentario" size="50"
								 [(ngModel)]="comentarioString" />
								<label for="comentario" class="">Comentário</label>
							</div>
						</td>
						<td>
							<button class="btn btn-info btn-sm" (click)="addDiagnostico()">Adicionar</button>
						</td>
					</tr>
				</tfoot>
			</table>
		</div>

		<hr>
		<!-- <chart type="line" [data]="data" [options]="options"></chart> -->
	</form>

	<div class="row">
		<div class="col-sm-6" id="left">
			<div class="container" *ngIf="neurologicoString">
				<label class="labelsConsulta" for="neurologicoTextArea">Neurológico</label>
				<textarea autosize id="neurologicoTextArea" disabled class="form-control" [value]='neurologicoString'></textarea>
			</div>

			<div class="container" *ngIf="hemodinamicoString">
				<label class="labelsConsulta" for="hemodinamicoTextArea">Hemodinâmico</label>
				<textarea id="hemodinamicoTextArea" autosize disabled class="form-control" [value]='hemodinamicoString'></textarea>
			</div>

			<div class="container" *ngIf="respiratorioString">
				<label class="labelsConsulta" for="respiratorioTextArea">Respiratório</label>
				<textarea id="respiratorioTextArea" autosize disabled class="form-control" [value]='respiratorioString'></textarea>
			</div>

			<div class="container" *ngIf="abdomeString">
				<label class="labelsConsulta" for="abdomeTextArea">Abdome</label>
				<textarea id="abdomeTextArea" autosize disabled class="form-control" [value]='abdomeString'></textarea>
			</div>

			<div class="container" *ngIf="renalString">
				<label class="labelsConsulta" for="renalTextArea">Renal</label>
				<textarea id="renalTextArea" disabled class="form-control" autosize [value]='renalString'></textarea>
			</div>

			<div class="container" *ngIf="peleMucosasString">
				<label class="labelsConsulta" for="peleMucosasTextArea">Pele e Mucosas</label>
				<textarea id="peleMucosasTextArea" disabled class="form-control" autosize [value]='peleMucosasString'></textarea>
			</div>

			<div class="container" *ngIf="osteomuscularString">
				<label class="labelsConsulta" class="labelsConsulta" for="osteomuscularTextArea">Osteomuscular</label>
				<textarea id="osteomuscularTextArea" disabled class="form-control" autosize [value]='osteomuscularString'></textarea>
			</div>

			<div class="container" *ngIf="nutricionalString">
				<label class="labelsConsulta" for="nutricionalTextArea">Nutricional</label>
				<textarea id="nutricionalTextArea" disabled class="form-control" autosize [value]='nutricionalString'></textarea>
			</div>

			<div class="container" *ngIf="infecciosoString">
				<label class="labelsConsulta" for="infecciosoTextArea">Infeccioso</label>
				<textarea id="infecciosoTextArea" disabled class="form-control" autosize [value]='infecciosoString'></textarea>
			</div>

			<div class="container" *ngIf="endocrinoString">
				<label class="labelsConsulta" for="endocrinoTextArea">Endócrino</label>
				<textarea id="endocrinoTextArea" disabled class="form-control" autosize [value]='endocrinoString'></textarea>
			</div>

			<div class="container" *ngIf="metabolicoString">
				<label class="labelsConsulta" for="metabolicoTextArea">Metabólico</label>
				<textarea id="metabolicoTextArea" disabled class="form-control" autosize [value]='metabolicoString'></textarea>
			</div>

			<div class="container" *ngIf="hematologicoString">
				<label class="labelsConsulta" for="hematologicoTextArea">Hematológico</label>
				<textarea id="hematologicoTextArea" disabled class="form-control" autosize [value]='hematologicoString'></textarea>
			</div>
		</div>
		<div class="col-sm-6" id="right">
			<div class="container">
				<label class="labelsConsulta" for="analiseTextArea">Análise/Comentários</label>
				<textarea id="analiseTextArea" class="form-control" autosize></textarea>
			</div>
			<div class="container">
				<label class="labelsConsulta" for="planoTextArea">Plano</label>
				<textarea id="planoTextArea" class="form-control" autosize></textarea>
			</div>
		</div>
	</div>

</div>
<!-- <input type="text" [value]='hemodinamicoString'>
			 <input type="text" *ngFor="let droga of fichaObject.Dispositivos, let i =index" [value]='droga' (input)="fichaObject.Dispositivos[i] = $event.target.value; prepareArrays();" > -->